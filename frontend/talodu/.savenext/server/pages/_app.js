(()=>{var e={};e.id=636,e.ids=[636],e.modules={1428:e=>{"use strict";e.exports=import("axios")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9488:e=>{"use strict";e.exports=require("bootstrap/dist/js/bootstrap.bundle.min.js")},14391:e=>{"use strict";e.exports=import("react-toastify")},29825:e=>{"use strict";e.exports=require("prop-types")},41040:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>i});var r=s(8732);s(29825),s(93908),s(84581),s(82015);var o=s(68075),l=s(14391);s(64345);var u=e([o,l]);function i({Component:e,pageProps:t}){return(0,r.jsxs)(o.O,{children:[(0,r.jsx)(e,{...t}),(0,r.jsx)(l.ToastContainer,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}[o,l]=u.then?(await u)():u,a()}catch(e){a(e)}})},64345:()=>{},68075:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{A:()=>c,O:()=>n});var r=s(8732),o=s(82015),l=s(1428),u=e([l]);l=(u.then?(await u)():u)[0];let i=(0,o.createContext)(void 0),n=({children:e})=>{let[t,s]=(0,o.useState)(null),[a,u]=(0,o.useState)(null),[n,c]=(0,o.useState)(!0),[d,h]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=async()=>{c(!1)};d||e()},[d]),(0,o.useEffect)(()=>{a?l.default.defaults.headers.common.Authorization=`Bearer ${a}`:delete l.default.defaults.headers.common.Authorization},[a]);let p=(0,o.useCallback)(()=>{},[]),f=(0,o.useCallback)(()=>{console.log("Loading data in load data...")},[p]),m=(0,o.useCallback)(async(e,t,a)=>{try{let r=await l.default.post(a+"/login",{email:e,password:t}),{access_token:o,refresh_token:i,user:n}=r.data;return u(o),s(r.data.user),n}catch(e){throw console.log("Login failed",e),e}},[]),x=(0,o.useCallback)(async()=>{throw console.log("... in Refresh token.., "),Error("Refresh token can only be called on the client side.")},[p]);(0,o.useEffect)(()=>{},[x]);let b=(0,o.useCallback)(e=>!!t&&t.Roles?.some(t=>t.Name===e),[t]),v=(0,o.useCallback)(e=>!!t&&t.Roles?.some(t=>e.includes(t.Name)),[t]),C=(0,o.useCallback)(e=>!!t&&t.ID==e.owner.ID,[t]),k=(0,o.useCallback)(e=>!!t&&e?.Employees.some(e=>e.id===t.id),[t]);return(0,r.jsx)(i.Provider,{value:{user:t,token:a,loading:n,login:m,logout:p,hasRole:b,hasAnyRole:v,loaddata:f,isShopOwner:C,isShopEmployee:k},children:n?(0,r.jsx)("div",{children:"Authenticating..."}):e})},c=()=>{let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};a()}catch(e){a(e)}})},82015:e=>{"use strict";e.exports=require("react")},84581:()=>{},93908:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=t(t.s=41040);module.exports=s})();